import{O as M,r as d,e as c}from"./vendor-CqXe5Vco.js";import{m as u}from"./index-D07s5EKd.js";const T=M("models",()=>{const a=d([]),n=d(null),o=d(!1),r=d(null),v=c(()=>a.value.filter(e=>e.is_trained)),f=c(()=>({trained:a.value.filter(e=>e.status==="trained"),training:a.value.filter(e=>e.status==="training"),created:a.value.filter(e=>e.status==="created"),failed:a.value.filter(e=>e.status==="failed")})),m=c(()=>a.value.length);return{models:a,currentModel:n,loading:o,error:r,trainedModels:v,modelsByStatus:f,modelCount:m,fetchModels:async()=>{o.value=!0,r.value=null;try{const e=await u.getModels();a.value=e.items||e.results||[]}catch(e){r.value=e instanceof Error?e.message:"Failed to fetch models",console.error("Failed to fetch models:",e)}finally{o.value=!1}},fetchModel:async e=>{o.value=!0,r.value=null;try{return n.value=await u.getModel(e),n.value}catch(l){throw r.value=l instanceof Error?l.message:"Failed to fetch model",console.error("Failed to fetch model:",l),l}finally{o.value=!1}},createModel:async e=>{o.value=!0,r.value=null;try{const l=await u.createModel(e);return a.value.push(l),l}catch(l){throw r.value=l instanceof Error?l.message:"Failed to create model",console.error("Failed to create model:",l),l}finally{o.value=!1}},updateModel:async(e,l)=>{o.value=!0,r.value=null;try{const t=await u.updateModel(e,l),s=a.value.findIndex(i=>i.id===e);return s!==-1&&(a.value[s]=t),n.value?.id===e&&(n.value=t),t}catch(t){throw r.value=t instanceof Error?t.message:"Failed to update model",console.error("Failed to update model:",t),t}finally{o.value=!1}},deleteModel:async e=>{o.value=!0,r.value=null;try{await u.deleteModel(e),a.value=a.value.filter(l=>l.id!==e),n.value?.id===e&&(n.value=null)}catch(l){throw r.value=l instanceof Error?l.message:"Failed to delete model",console.error("Failed to delete model:",l),l}finally{o.value=!1}},startTraining:async(e,l)=>{o.value=!0,r.value=null;try{const t=await u.startTraining(e,l),s=a.value.findIndex(i=>i.id===e);return s!==-1&&(a.value[s]={...a.value[s],status:"training"}),t}catch(t){throw r.value=t instanceof Error?t.message:"Failed to start training",console.error("Failed to start training:",t),t}finally{o.value=!1}},clearError:()=>{r.value=null},clearCurrentModel:()=>{n.value=null}}});export{T as u};
//# sourceMappingURL=models-BXZoxh5i.js.map
