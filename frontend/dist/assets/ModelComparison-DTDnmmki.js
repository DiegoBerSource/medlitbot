import{k as D,Y as L,r as g,e as v,a as R,I as V,l as r,J as n,A as e,Z as h,$ as C,F as y,G as _,C as o,z as k,m as M,L as c,y as F,B as d}from"./vendor-CqXe5Vco.js";import{_ as P}from"./index-D07s5EKd.js";import{_ as U}from"./ChartCard.vue_vue_type_script_setup_true_lang-zQWhgYwN.js";import{_ as E}from"./RadarChart.vue_vue_type_script_setup_true_lang-Bb8TJrYA.js";import{C as $}from"./ConfusionMatrix-CXdmZwig.js";import{u as Y}from"./models-BXZoxh5i.js";import"./utils-DWA4hw-v.js";import"./charts-DqDWejEF.js";const Z={class:"p-6"},G={class:"mb-8"},I={class:"medical-card"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O=["value"],W=["value","disabled"],j={key:0,class:"space-y-8"},q={class:"medical-card"},H={class:"overflow-x-auto"},K={class:"w-full"},Q={class:"bg-gray-50"},X={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ee={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},te={class:"bg-white divide-y divide-gray-200"},se={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap"},re={key:1,class:"text-sm text-gray-500"},ne={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ie={class:"medical-card"},de={class:"space-y-4"},ue={class:"grid grid-cols-2 gap-4"},ce={class:"text-sm font-medium text-gray-900 mb-2"},me={class:"space-y-1 text-sm text-gray-600"},ve={class:"text-sm font-medium text-gray-900 mb-2"},pe={class:"space-y-1 text-sm text-gray-600"},xe={key:0},fe={class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},ge={class:"medical-card"},ye={class:"medical-card-header"},_e={class:"text-lg font-semibold text-gray-900"},be={class:"medical-card"},we={class:"medical-card-header"},he={class:"text-lg font-semibold text-gray-900"},Ce={key:1,class:"text-center py-12"},ke={key:0,class:"text-sm text-gray-500"},Le=D({__name:"ModelComparison",setup(Me){const b=Y(),{models:A}=L(b),x=g(!1),p=g(""),f=g(""),m=v(()=>A.value?.filter(i=>i.status==="trained"&&i.is_trained)||[]),a=v(()=>m.value.find(i=>i.id===p.value)||null),l=v(()=>m.value.find(i=>i.id===f.value)||null),S=v(()=>!a.value||!l.value?[]:[{name:"Accuracy",value1:`${((a.value.accuracy||0)*100).toFixed(1)}%`,value2:`${((l.value.accuracy||0)*100).toFixed(1)}%`,raw1:a.value.accuracy||0,raw2:l.value.accuracy||0},{name:"F1 Score",value1:`${((a.value.f1_score||0)*100).toFixed(1)}%`,value2:`${((l.value.f1_score||0)*100).toFixed(1)}%`,raw1:a.value.f1_score||0,raw2:l.value.f1_score||0},{name:"Precision",value1:`${((a.value.precision||0)*100).toFixed(1)}%`,value2:`${((l.value.precision||0)*100).toFixed(1)}%`,raw1:a.value.precision||0,raw2:l.value.precision||0},{name:"Recall",value1:`${((a.value.recall||0)*100).toFixed(1)}%`,value2:`${((l.value.recall||0)*100).toFixed(1)}%`,raw1:a.value.recall||0,raw2:l.value.recall||0}].map(t=>{const u=t.raw1-t.raw2,B=(Math.abs(u)*100).toFixed(1);return{...t,difference:u,differenceText:u===0?"0.0%":`${u>0?"+":"-"}${B}%`,winner:u>.001?a.value.name:u<-.001?l.value.name:null}})),T=v(()=>!a.value||!l.value?{labels:[],datasets:[]}:{labels:["Accuracy","F1 Score","Precision","Recall"],datasets:[{label:a.value.name,data:[(a.value.accuracy||0)*100,(a.value.f1_score||0)*100,(a.value.precision||0)*100,(a.value.recall||0)*100],backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 1)",pointBackgroundColor:"rgba(59, 130, 246, 1)"},{label:l.value.name,data:[(l.value.accuracy||0)*100,(l.value.f1_score||0)*100,(l.value.precision||0)*100,(l.value.recall||0)*100],backgroundColor:"rgba(16, 185, 129, 0.2)",borderColor:"rgba(16, 185, 129, 1)",pointBackgroundColor:"rgba(16, 185, 129, 1)"}]}),N={responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20}}},plugins:{legend:{position:"bottom"}}},w=i=>{const t=i.length;return Array.from({length:t},(u,s)=>`Class ${s+1}`)},z=async()=>{x.value=!0;try{await b.fetchModels()}catch(i){console.error("Failed to fetch models:",i)}finally{x.value=!1}};return R(async()=>{await z()}),(i,t)=>{const u=V("RouterLink");return n(),r("div",Z,[t[26]||(t[26]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Model Comparison"),e("p",{class:"text-gray-600"},"Compare performance metrics across different models")],-1)),e("div",G,[e("div",I,[t[6]||(t[6]=e("div",{class:"medical-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Select Models to Compare")],-1)),e("div",J,[e("div",null,[t[3]||(t[3]=e("label",{for:"model1-select",class:"block text-sm font-medium text-gray-700 mb-2"}," Model 1: ",-1)),h(e("select",{id:"model1-select","onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),class:"form-select w-full"},[t[2]||(t[2]=e("option",{value:""},"Select first model...",-1)),(n(!0),r(y,null,_(m.value,s=>(n(),r("option",{key:s.id,value:s.id},o(s.name)+" (F1: "+o(s.f1_score?(s.f1_score*100).toFixed(1):"0.0")+"%) ",9,O))),128))],512),[[C,p.value]])]),e("div",null,[t[5]||(t[5]=e("label",{for:"model2-select",class:"block text-sm font-medium text-gray-700 mb-2"}," Model 2: ",-1)),h(e("select",{id:"model2-select","onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),class:"form-select w-full"},[t[4]||(t[4]=e("option",{value:""},"Select second model...",-1)),(n(!0),r(y,null,_(m.value,s=>(n(),r("option",{key:s.id,value:s.id,disabled:s.id===p.value},o(s.name)+" (F1: "+o(s.f1_score?(s.f1_score*100).toFixed(1):"0.0")+"%) ",9,W))),128))],512),[[C,f.value]])])])])]),a.value&&l.value?(n(),r("div",j,[e("div",q,[t[10]||(t[10]=e("div",{class:"medical-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Performance Metrics")],-1)),e("div",H,[e("table",K,[e("thead",Q,[e("tr",null,[t[7]||(t[7]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Metric ",-1)),e("th",X,o(a.value.name),1),e("th",ee,o(l.value.name),1),t[8]||(t[8]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Difference ",-1)),t[9]||(t[9]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Winner ",-1))])]),e("tbody",te,[(n(!0),r(y,null,_(S.value,s=>(n(),r("tr",{key:s.name},[e("td",se,o(s.name),1),e("td",ae,o(s.value1),1),e("td",le,o(s.value2),1),e("td",{class:M(["px-6 py-4 whitespace-nowrap text-sm",s.difference>0?"text-green-600":s.difference<0?"text-red-600":"text-gray-500"])},o(s.differenceText),3),e("td",oe,[s.winner?(n(),r("span",{key:0,class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.winner===a.value.name?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},o(s.winner),3)):(n(),r("span",re,"Tie"))])]))),128))])])])]),e("div",ne,[c(U,{title:"Performance Comparison",loading:x.value},{default:F(()=>[c(E,{data:T.value,options:N,height:350},null,8,["data"])]),_:1},8,["loading"]),e("div",ie,[t[21]||(t[21]=e("div",{class:"medical-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Training Details")],-1)),e("div",de,[e("div",ue,[e("div",null,[e("h4",ce,o(a.value.name),1),e("div",me,[e("div",null,[t[11]||(t[11]=e("strong",null,"Type:",-1)),d(" "+o(a.value.model_type.toUpperCase()),1)]),e("div",null,[t[12]||(t[12]=e("strong",null,"Training Time:",-1)),d(" "+o(a.value.training_time_minutes||"N/A")+" min",1)]),e("div",null,[t[13]||(t[13]=e("strong",null,"Epochs:",-1)),d(" "+o(a.value.num_epochs||"N/A"),1)]),e("div",null,[t[14]||(t[14]=e("strong",null,"Learning Rate:",-1)),d(" "+o(a.value.learning_rate||"N/A"),1)]),e("div",null,[t[15]||(t[15]=e("strong",null,"Batch Size:",-1)),d(" "+o(a.value.batch_size||"N/A"),1)])])]),e("div",null,[e("h4",ve,o(l.value.name),1),e("div",pe,[e("div",null,[t[16]||(t[16]=e("strong",null,"Type:",-1)),d(" "+o(l.value.model_type.toUpperCase()),1)]),e("div",null,[t[17]||(t[17]=e("strong",null,"Training Time:",-1)),d(" "+o(l.value.training_time_minutes||"N/A")+" min",1)]),e("div",null,[t[18]||(t[18]=e("strong",null,"Epochs:",-1)),d(" "+o(l.value.num_epochs||"N/A"),1)]),e("div",null,[t[19]||(t[19]=e("strong",null,"Learning Rate:",-1)),d(" "+o(l.value.learning_rate||"N/A"),1)]),e("div",null,[t[20]||(t[20]=e("strong",null,"Batch Size:",-1)),d(" "+o(l.value.batch_size||"N/A"),1)])])])])])])]),a.value.confusion_matrix&&l.value.confusion_matrix?(n(),r("div",xe,[e("div",fe,[e("div",ge,[e("div",ye,[e("h3",_e,o(a.value.name)+" - Confusion Matrix",1)]),c($,{matrix:a.value.confusion_matrix,labels:w(a.value.confusion_matrix)},null,8,["matrix","labels"])]),e("div",be,[e("div",we,[e("h3",he,o(l.value.name)+" - Confusion Matrix",1)]),c($,{matrix:l.value.confusion_matrix,labels:w(l.value.confusion_matrix)},null,8,["matrix","labels"])])])])):k("",!0)])):(n(),r("div",Ce,[c(P,{name:"chart-bar",class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Select Models to Compare",-1)),t[25]||(t[25]=e("p",{class:"text-gray-500 mb-4"},"Choose two trained models above to see a detailed comparison",-1)),m.value.length<2?(n(),r("div",ke,[t[23]||(t[23]=e("p",null,"You need at least 2 trained models to make comparisons.",-1)),c(u,{to:"/models/create",class:"text-primary-600 hover:text-primary-700"},{default:F(()=>[...t[22]||(t[22]=[d(" Train more models â†’ ",-1)])]),_:1})])):k("",!0)]))])}}});export{Le as default};
//# sourceMappingURL=ModelComparison-DTDnmmki.js.map
