import{k as P,r as x,e as S,l as i,J as a,A as s,z as c,F as g,G as f,C as o,p as V,m as h,Z as B,a0 as N,B as v}from"./vendor-CqXe5Vco.js";import{a as z}from"./index-D07s5EKd.js";const A={class:"confusion-matrix-container"},D={class:"mb-4"},w={key:0,class:"text-sm text-gray-600"},F={key:0,class:"confusion-matrix"},_={class:"matrix-headers"},E={class:"matrix-header-row"},G=["title"],J={class:"matrix-grid"},L=["title"],R=["onClick","title"],T={class:"cell-value"},U={key:0,class:"cell-percentage"},Z={class:"matrix-legend"},j={class:"legend-controls"},q={class:"legend-control"},H={key:0,class:"selected-cell-details"},K={class:"text-sm text-gray-600"},O=P({__name:"ConfusionMatrix",props:{matrix:{},labels:{},title:{default:"Confusion Matrix"}},setup(k){const d=k,p=x(!1),u=x(null),b=S(()=>!d.matrix||d.matrix.length===0?1:Math.max(...d.matrix.flat())),M=e=>{if(b.value===0)return{opacity:"0.1"};const t=e/b.value;return{opacity:Math.max(.1,t).toString()}},y=(e,t)=>{if(!d.matrix||!d.matrix[t])return 0;const r=d.matrix[t].reduce((l,n)=>l+n,0);return r===0?0:Math.round(e/r*100)},$=(e,t,r)=>{u.value={row:e,col:t,value:r}},C=(e,t=12)=>e.length<=t?e:e.substring(0,t-3)+"...";return(e,t)=>(a(),i("div",A,[s("div",D,[t[1]||(t[1]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-2"}," Confusion Matrix ",-1)),!e.matrix||e.matrix.length===0?(a(),i("p",w," No confusion matrix data available ")):c("",!0)]),e.matrix&&e.matrix.length>0?(a(),i("div",F,[t[14]||(t[14]=s("div",{class:"matrix-labels-row"},[s("div",{class:"label-corner"}),s("div",{class:"predicted-label"},[s("span",null,"Predicted")])],-1)),s("div",_,[t[2]||(t[2]=s("div",{class:"actual-label"},[s("span",null,"Actual")],-1)),s("div",E,[(a(!0),i(g,null,f(e.labels,(r,l)=>(a(),i("div",{key:`col-${l}`,class:"matrix-header",title:r},o(C(r)),9,G))),128))])]),s("div",J,[(a(!0),i(g,null,f(e.matrix,(r,l)=>(a(),i("div",{key:`row-${l}`,class:"matrix-row"},[s("div",{class:"matrix-row-label",title:e.labels?.[l]||""},o(C(e.labels?.[l]||"")),9,L),(a(!0),i(g,null,f(r,(n,m)=>(a(),i("div",{key:`cell-${l}-${m}`,class:h(["matrix-cell",{diagonal:l===m,correct:l===m&&n>0,incorrect:l!==m&&n>0}]),style:V(M(n)),onClick:Q=>$(l,m,n),title:`${e.labels[l]} â†’ ${e.labels[m]}: ${n}`},[s("span",T,o(n),1),p.value?(a(),i("div",U,o(y(n,l))+"% ",1)):c("",!0)],14,R))),128))]))),128))]),s("div",Z,[t[4]||(t[4]=s("div",{class:"legend-item"},[s("div",{class:"legend-color correct-prediction"}),s("span",null,"Correct Predictions")],-1)),t[5]||(t[5]=s("div",{class:"legend-item"},[s("div",{class:"legend-color incorrect-prediction"}),s("span",null,"Incorrect Predictions")],-1)),s("div",j,[s("label",q,[B(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=r=>p.value=r)},null,512),[[N,p.value]]),t[3]||(t[3]=s("span",{class:"ml-2"},"Show percentages",-1))])])]),u.value?(a(),i("div",H,[t[13]||(t[13]=s("h4",{class:"font-medium text-gray-900"},"Selected Cell Details",-1)),s("p",K,[t[6]||(t[6]=s("strong",null,"Actual:",-1)),v(" "+o(e.labels[u.value.row]),1),t[7]||(t[7]=s("br",null,null,-1)),t[8]||(t[8]=s("strong",null,"Predicted:",-1)),v(" "+o(e.labels[u.value.col]),1),t[9]||(t[9]=s("br",null,null,-1)),t[10]||(t[10]=s("strong",null,"Count:",-1)),v(" "+o(u.value.value),1),t[11]||(t[11]=s("br",null,null,-1)),t[12]||(t[12]=s("strong",null,"Percentage of Row:",-1)),v(" "+o(y(u.value.value,u.value.row))+"% ",1)])])):c("",!0)])):c("",!0)]))}}),Y=z(O,[["__scopeId","data-v-583b2010"]]);export{Y as C};
//# sourceMappingURL=ConfusionMatrix-CXdmZwig.js.map
