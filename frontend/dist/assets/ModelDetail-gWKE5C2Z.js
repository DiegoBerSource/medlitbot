import{k as X,X as Z,Y as q,r as w,e as C,a as K,I as W,l as n,J as d,z as _,A as t,L as l,C as o,B as p,m as tt,y as M,F as N,G as F}from"./vendor-CqXe5Vco.js";import{b as et,_ as c,a as st}from"./index-D07s5EKd.js";import{u as at}from"./models-BXZoxh5i.js";import{_ as y}from"./StatCard.vue_vue_type_script_setup_true_lang-DCRGtXQu.js";import{_ as $}from"./ChartCard.vue_vue_type_script_setup_true_lang-zQWhgYwN.js";import{_ as ot}from"./RadarChart.vue_vue_type_script_setup_true_lang-Bb8TJrYA.js";import"./utils-DWA4hw-v.js";import"./charts-DqDWejEF.js";const lt={class:"p-6 max-w-7xl mx-auto"},rt={key:0,class:"flex items-center justify-center h-64"},it={class:"text-center"},nt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-6"},dt={class:"flex items-center"},ct={class:"text-red-700 mt-1"},ut={key:2,class:"space-y-8"},mt={class:"medical-card"},pt={class:"flex items-center justify-between mb-6"},gt={class:"flex items-center space-x-4"},xt={class:"p-3 bg-blue-100 rounded-lg"},vt={class:"text-3xl font-bold text-gray-900 flex items-center"},ft={key:0,class:"ml-3 px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full"},_t={class:"text-gray-600 mt-1"},yt={class:"flex items-center space-x-4 mt-2"},bt={class:"text-sm text-gray-500"},ht={class:"text-sm text-gray-500"},wt={class:"flex space-x-3"},Ct=["disabled"],Mt=["disabled"],kt=["disabled"],Tt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},At={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Bt={key:0,class:"p-4"},Dt={class:"space-y-4"},Nt={class:"flex justify-between items-center"},Ft={class:"text-sm text-gray-900"},$t={class:"flex justify-between items-center"},jt={class:"text-sm text-gray-900"},St={class:"flex justify-between items-center"},Rt={class:"text-sm text-gray-900"},Et={class:"flex justify-between items-center"},Lt={class:"text-sm text-gray-900"},Pt={class:"flex justify-between items-center"},zt={class:"text-sm text-gray-900"},Ut={class:"mt-6 pt-4 border-t border-gray-200"},Ht={class:"space-y-2"},Ot={class:"flex items-center text-sm"},Vt={class:"ml-2 text-gray-900"},It={class:"flex items-center text-sm"},Yt={class:"ml-2 text-gray-900"},Gt={key:1,class:"p-8 text-center"},Jt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Qt={class:"medical-card"},Xt={class:"space-y-4"},Zt={class:"grid grid-cols-2 gap-4"},qt={class:"text-sm text-gray-900 mt-1"},Kt={class:"text-sm text-gray-900 mt-1"},Wt={key:0},te={class:"mt-2 space-y-1"},ee={class:"text-gray-600"},se={class:"text-gray-900 font-mono"},ae={class:"pt-4 border-t border-gray-200"},oe={class:"grid grid-cols-1 gap-3 text-sm"},le={class:"flex justify-between"},re={class:"text-gray-900"},ie={class:"flex justify-between"},ne={class:"text-gray-900"},de={class:"flex justify-between"},ce={class:"text-gray-900"},ue={class:"medical-card"},me={class:"space-y-4"},pe={class:"text-sm text-gray-900 mt-1"},ge={key:0},xe={class:"mt-2 space-y-2"},ve={class:"flex justify-between items-center mb-2"},fe={class:"text-sm font-medium text-gray-900"},_e={class:"text-xs text-gray-500"},ye={class:"grid grid-cols-3 gap-2 text-xs"},be={class:"text-center"},he={class:"font-medium"},we={class:"text-center"},Ce={class:"font-medium"},Me={class:"text-center"},ke={class:"font-medium"},Te={class:"pt-4 border-t border-gray-200"},Ae={class:"medical-card"},Be={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},De=["disabled"],Ne=["disabled"],Fe=X({__name:"ModelDetail",props:{id:{}},setup(j){const u=j,g=Z(),S=et(),b=at(),{models:x}=q(b),s=w(null),h=w(!0),v=w(null),R=C(()=>{if(!s.value||x.value.length===0)return!1;const a=x.value.filter(i=>i.status==="trained"||i.is_trained);return a.length===0?!1:a.reduce((i,r)=>r.f1_score&&i.f1_score?r.f1_score>i.f1_score?r:i:r.accuracy&&i.accuracy?r.accuracy>i.accuracy?r:i:new Date(r.updated_at)>new Date(i.updated_at)?r:i).id===s.value.id}),E=C(()=>s.value?{labels:["Accuracy","F1 Score","Precision","Recall"],datasets:[{label:"Performance",data:[(s.value.accuracy||0)*100,(s.value.f1_score||0)*100,(s.value.precision||0)*100,(s.value.recall||0)*100],backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgb(59, 130, 246)",pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(59, 130, 246)"}]}:{labels:[],datasets:[]}),L=C(()=>({plugins:{legend:{display:!1}},scales:{r:{beginAtZero:!0,max:100,ticks:{display:!1}}}})),k=async()=>{h.value=!0,v.value=null;try{x.value.length===0&&await b.fetchModels();const a=x.value.find(e=>e.id===u.id);a?s.value=a:s.value=await b.fetchModel(u.id)}catch(a){v.value=a instanceof Error?a.message:"Failed to load model",console.error("Failed to load model:",a)}finally{h.value=!1}},T=a=>({biobert:"BioBERT",clinicalbert:"ClinicalBERT",scibert:"SciBERT",pubmedbert:"PubMedBERT",bert:"BERT",hybrid:"Hybrid Ensemble",traditional:"Traditional ML"})[a]||a.charAt(0).toUpperCase()+a.slice(1),P=a=>a.charAt(0).toUpperCase()+a.slice(1),z=a=>({trained:"bg-green-100 text-green-800",training:"bg-yellow-100 text-yellow-800",created:"bg-gray-100 text-gray-800",failed:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",U=a=>({trained:"success",training:"clock",created:"clock",failed:"warning"})[a]||"clock",f=a=>a?a>=.8?"green":a>=.7?"blue":a>=.6?"yellow":"red":"gray",A=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),B=a=>a?new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A",H=a=>a?a<60?`${a.toFixed(0)}m`:a<1440?`${(a/60).toFixed(1)}h`:`${(a/1440).toFixed(1)}d`:"N/A",O=a=>a.charAt(0).toUpperCase()+a.slice(1).replace(/_/g," "),V=a=>a.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),I=()=>{S.info("Model export functionality coming soon")},Y=()=>{g.push(`/models/${u.id}/training`)},G=()=>{D()},D=()=>{g.push(`/classification?model=${u.id}`)},J=()=>{g.push(`/classification/batch?model=${u.id}`)},Q=()=>{g.push(`/analytics/comparison?models=${u.id}`)};return K(k),(a,e)=>{const i=W("RouterLink");return d(),n("div",lt,[h.value?(d(),n("div",rt,[t("div",it,[l(c,{name:"clock",class:"w-8 h-8 text-blue-500 mx-auto mb-2 animate-spin"}),e[0]||(e[0]=t("p",{class:"text-gray-600"},"Loading model details...",-1))])])):v.value?(d(),n("div",nt,[t("div",dt,[l(c,{name:"warning",class:"w-5 h-5 text-red-600 mr-2"}),e[1]||(e[1]=t("h3",{class:"text-red-800 font-medium"},"Error Loading Model",-1))]),t("p",ct,o(v.value),1),t("button",{onClick:k,class:"mt-3 text-red-600 hover:text-red-800 text-sm underline"}," Try Again ")])):s.value?(d(),n("div",ut,[t("div",mt,[t("div",pt,[t("div",gt,[t("div",xt,[l(c,{name:"cpu",class:"w-8 h-8 text-blue-600"})]),t("div",null,[t("h1",vt,[p(o(s.value.name)+" ",1),R.value?(d(),n("span",ft,"â­ Best Model")):_("",!0)]),t("p",_t,o(s.value.description||"No description provided"),1),t("div",yt,[t("span",{class:tt(["inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium",z(s.value.status)])},[l(c,{name:U(s.value.status),class:"w-4 h-4 mr-1"},null,8,["name"]),p(" "+o(P(s.value.status)),1)],2),t("span",bt,o(T(s.value.model_type)),1),t("span",ht,"Created "+o(A(s.value.created_at)),1)])])]),t("div",wt,[t("button",{class:"btn-secondary",onClick:I,disabled:s.value.status!=="trained"},[l(c,{name:"document",class:"w-4 h-4 mr-2"}),e[2]||(e[2]=p(" Export ",-1))],8,Ct),t("button",{class:"btn-secondary",onClick:Y,disabled:s.value.status==="training"},[l(c,{name:"brain",class:"w-4 h-4 mr-2"}),e[3]||(e[3]=p(" Retrain ",-1))],8,Mt),t("button",{class:"btn-primary",onClick:G,disabled:s.value.status!=="trained"},[l(c,{name:"view",class:"w-4 h-4 mr-2"}),e[4]||(e[4]=p(" Test Model ",-1))],8,kt)])])]),t("div",Tt,[l(y,{label:"Accuracy",value:s.value.accuracy?`${(s.value.accuracy*100).toFixed(1)}%`:"N/A",icon:"chart-bar",color:f(s.value.accuracy)},null,8,["value","color"]),l(y,{label:"F1 Score",value:s.value.f1_score?`${(s.value.f1_score*100).toFixed(1)}%`:"N/A",icon:"chart-bar",color:f(s.value.f1_score)},null,8,["value","color"]),l(y,{label:"Precision",value:s.value.precision?`${(s.value.precision*100).toFixed(1)}%`:"N/A",icon:"chart-bar",color:f(s.value.precision)},null,8,["value","color"]),l(y,{label:"Recall",value:s.value.recall?`${(s.value.recall*100).toFixed(1)}%`:"N/A",icon:"chart-bar",color:f(s.value.recall)},null,8,["value","color"])]),t("div",At,[l($,{title:"Performance Metrics",loading:!1},{default:M(()=>[l(ot,{data:E.value,options:L.value,height:300},null,8,["data","options"])]),_:1}),l($,{title:"Training Details",loading:!1},{default:M(()=>[s.value.status==="trained"?(d(),n("div",Bt,[t("div",Dt,[t("div",Nt,[e[5]||(e[5]=t("span",{class:"text-sm font-medium text-gray-700"},"Training Duration",-1)),t("span",Ft,o(H(s.value.training_time_minutes)),1)]),t("div",$t,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-gray-700"},"Total Epochs",-1)),t("span",jt,o(s.value.num_epochs||"N/A"),1)]),t("div",St,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-gray-700"},"Best Epoch",-1)),t("span",Rt,o(s.value.best_epoch||"N/A"),1)]),t("div",Et,[e[8]||(e[8]=t("span",{class:"text-sm font-medium text-gray-700"},"Learning Rate",-1)),t("span",Lt,o(s.value.learning_rate||"N/A"),1)]),t("div",Pt,[e[9]||(e[9]=t("span",{class:"text-sm font-medium text-gray-700"},"Batch Size",-1)),t("span",zt,o(s.value.batch_size||"N/A"),1)])]),t("div",Ut,[e[14]||(e[14]=t("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Training Timeline",-1)),t("div",Ht,[t("div",Ot,[e[10]||(e[10]=t("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),e[11]||(e[11]=t("span",{class:"text-gray-600"},"Started:",-1)),t("span",Vt,o(B(s.value.training_started_at)),1)]),t("div",It,[e[12]||(e[12]=t("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-3"},null,-1)),e[13]||(e[13]=t("span",{class:"text-gray-600"},"Completed:",-1)),t("span",Yt,o(B(s.value.training_completed_at)),1)])])])])):(d(),n("div",Gt,[l(c,{name:"clock",class:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e[15]||(e[15]=t("p",{class:"text-gray-500"},"Training details will appear after model training",-1))]))]),_:1})]),t("div",Jt,[t("div",Qt,[e[22]||(e[22]=t("div",{class:"medical-card-header"},[t("h2",{class:"text-xl font-semibold text-gray-900"},"Configuration")],-1)),t("div",Xt,[t("div",Zt,[t("div",null,[e[16]||(e[16]=t("span",{class:"text-sm font-medium text-gray-700"},"Model Type",-1)),t("p",qt,o(T(s.value.model_type)),1)]),t("div",null,[e[17]||(e[17]=t("span",{class:"text-sm font-medium text-gray-700"},"Model Size",-1)),t("p",Kt,o(s.value.model_size_mb?`${s.value.model_size_mb.toFixed(1)} MB`:"N/A"),1)])]),s.value.hyperparameters&&Object.keys(s.value.hyperparameters).length>0?(d(),n("div",Wt,[e[18]||(e[18]=t("span",{class:"text-sm font-medium text-gray-700"},"Hyperparameters",-1)),t("div",te,[(d(!0),n(N,null,F(Object.entries(s.value.hyperparameters),([r,m])=>(d(),n("div",{key:r,class:"flex justify-between text-sm"},[t("span",ee,o(V(r))+":",1),t("span",se,o(m),1)]))),128))])])):_("",!0),t("div",ae,[t("div",oe,[t("div",le,[e[19]||(e[19]=t("span",{class:"text-gray-600"},"Training Complete:",-1)),t("span",re,o(s.value.is_training_complete?"Yes":"No"),1)]),t("div",ie,[e[20]||(e[20]=t("span",{class:"text-gray-600"},"Deployed:",-1)),t("span",ne,o(s.value.is_deployed?"Yes":"No"),1)]),t("div",de,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Last Updated:",-1)),t("span",ce,o(A(s.value.updated_at)),1)])])])])]),t("div",ue,[e[29]||(e[29]=t("div",{class:"medical-card-header"},[t("h2",{class:"text-xl font-semibold text-gray-900"},"Training Dataset")],-1)),t("div",me,[t("div",null,[e[23]||(e[23]=t("span",{class:"text-sm font-medium text-gray-700"},"Dataset Name",-1)),t("p",pe,o(s.value.dataset_name||`Dataset ${s.value.dataset}`),1)]),s.value.domain_performance&&Object.keys(s.value.domain_performance).length>0?(d(),n("div",ge,[e[27]||(e[27]=t("span",{class:"text-sm font-medium text-gray-700"},"Domain Performance",-1)),t("div",xe,[(d(!0),n(N,null,F(Object.entries(s.value.domain_performance),([r,m])=>(d(),n("div",{key:r,class:"p-3 bg-gray-50 rounded-lg"},[t("div",ve,[t("span",fe,o(O(r)),1),t("span",_e,o(m.support)+" samples",1)]),t("div",ye,[t("div",be,[e[24]||(e[24]=t("div",{class:"text-gray-600"},"F1",-1)),t("div",he,o((m.f1_score*100).toFixed(0))+"%",1)]),t("div",we,[e[25]||(e[25]=t("div",{class:"text-gray-600"},"Precision",-1)),t("div",Ce,o((m.precision*100).toFixed(0))+"%",1)]),t("div",Me,[e[26]||(e[26]=t("div",{class:"text-gray-600"},"Recall",-1)),t("div",ke,o((m.recall*100).toFixed(0))+"%",1)])])]))),128))])])):_("",!0),t("div",Te,[l(i,{to:`/datasets/${s.value.dataset}`,class:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800"},{default:M(()=>[l(c,{name:"view",class:"w-4 h-4 mr-1"}),e[28]||(e[28]=p(" View Dataset Details ",-1))]),_:1},8,["to"])])])])]),t("div",Ae,[e[36]||(e[36]=t("div",{class:"medical-card-header"},[t("h2",{class:"text-xl font-semibold text-gray-900"},"Quick Actions")],-1)),t("div",Be,[t("button",{onClick:D,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",disabled:s.value.status!=="trained"},[l(c,{name:"brain",class:"w-6 h-6 text-blue-500 mb-2"}),e[30]||(e[30]=t("h3",{class:"font-medium text-gray-900"},"Test Classification",-1)),e[31]||(e[31]=t("p",{class:"text-sm text-gray-600 mt-1"},"Try single article classification",-1))],8,De),t("button",{onClick:J,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",disabled:s.value.status!=="trained"},[l(c,{name:"document",class:"w-6 h-6 text-purple-500 mb-2"}),e[32]||(e[32]=t("h3",{class:"font-medium text-gray-900"},"Batch Processing",-1)),e[33]||(e[33]=t("p",{class:"text-sm text-gray-600 mt-1"},"Classify multiple articles",-1))],8,Ne),t("button",{onClick:Q,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left"},[l(c,{name:"chart-bar",class:"w-6 h-6 text-green-500 mb-2"}),e[34]||(e[34]=t("h3",{class:"font-medium text-gray-900"},"Model Comparison",-1)),e[35]||(e[35]=t("p",{class:"text-sm text-gray-600 mt-1"},"Compare with other models",-1))])])])])):_("",!0)])}}}),Ue=st(Fe,[["__scopeId","data-v-43c0c665"]]);export{Ue as default};
//# sourceMappingURL=ModelDetail-gWKE5C2Z.js.map
