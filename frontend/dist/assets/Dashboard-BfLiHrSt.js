import{k as E,l as i,J as a,A as t,C as o,m as k,p as X,z as y,X as Z,r as F,e as g,a as K,I as Q,F as f,G as v,u as M,L as r,q as L,y as p,B as x}from"./vendor-CqXe5Vco.js";import{u as Y}from"./utils-DWA4hw-v.js";import{_ as tt}from"./StatCard.vue_vue_type_script_setup_true_lang-DCRGtXQu.js";import{_ as N}from"./ChartCard.vue_vue_type_script_setup_true_lang-zQWhgYwN.js";import{_ as et}from"./DoughnutChart.vue_vue_type_script_setup_true_lang-Da8YI0bv.js";import{_ as st}from"./RadarChart.vue_vue_type_script_setup_true_lang-Bb8TJrYA.js";import{u as at,_ as w,a as ot}from"./index-D07s5EKd.js";import{u as it}from"./datasets-Bt4WZcQM.js";import{u as nt}from"./models-BXZoxh5i.js";import{u as rt}from"./classification-BFQJskH4.js";import{u as lt}from"./training-DiT7B9Ie.js";import{f as V}from"./charts-DqDWejEF.js";const dt={class:"medical-card"},ct={class:"flex items-center justify-between mb-4"},ut={class:"font-medium text-gray-900"},mt={class:"space-y-3"},gt={class:"flex justify-between text-sm"},pt={class:"progress-bar"},_t={class:"grid grid-cols-2 gap-4 text-sm text-gray-600"},ft={key:0},vt=E({__name:"TrainingProgressCard",props:{trainingJob:{}},setup(I){return(l,b)=>(a(),i("div",dt,[t("div",ct,[t("h4",ut,"Model Training #"+o(l.trainingJob.model),1),t("span",{class:k(["status-badge",{"status-badge-success":l.trainingJob.status==="completed","status-badge-warning":l.trainingJob.status==="running","status-badge-error":l.trainingJob.status==="failed"}])},o(l.trainingJob.status),3)]),t("div",mt,[t("div",gt,[b[0]||(b[0]=t("span",null,"Progress",-1)),t("span",null,o(Math.round(l.trainingJob.progress_percentage))+"%",1)]),t("div",pt,[t("div",{class:"progress-bar-fill",style:X({width:l.trainingJob.progress_percentage+"%"})},null,4)]),t("div",_t,[t("div",null,"Epoch: "+o(l.trainingJob.current_epoch)+"/"+o(l.trainingJob.total_epochs),1),l.trainingJob.current_loss?(a(),i("div",ft,"Loss: "+o(l.trainingJob.current_loss.toFixed(4)),1)):y("",!0)])])]))}}),bt={class:"p-6"},xt={class:"mb-8"},yt={class:"flex items-center justify-between"},ht={class:"flex items-center space-x-4"},wt={class:"flex space-x-2"},kt=["onClick","title"],Ct={class:"hidden sm:inline"},St=["disabled"],Tt={class:"mt-4 flex items-center space-x-4"},Bt={class:"flex items-center space-x-2"},Mt={class:"text-sm text-gray-600"},Rt={class:"text-sm text-gray-500"},Dt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Jt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},$t={class:"grid grid-cols-1 xl:grid-cols-3 gap-8"},At={class:"medical-card"},Pt={class:"medical-card-header"},jt={class:"flex items-center justify-between"},Ft={class:"space-y-3"},Lt={class:"flex-1"},Nt={class:"font-medium text-gray-900 truncate"},Vt={class:"text-sm text-gray-500"},Et={class:"flex items-center space-x-2"},It={key:0,class:"text-center py-8 text-gray-500"},Ot={class:"medical-card"},zt={class:"medical-card-header"},Ut={class:"flex items-center justify-between"},qt={class:"space-y-3"},Gt={class:"flex-1"},Ht={class:"font-medium text-gray-900 truncate"},Wt={class:"text-sm text-gray-500"},Xt={class:"flex items-center space-x-2"},Zt={key:0,class:"text-center py-8 text-gray-500"},Kt={class:"medical-card"},Qt={class:"medical-card-header"},Yt={class:"flex items-center justify-between"},te={class:"space-y-3"},ee={class:"flex-1"},se={class:"font-medium text-gray-900 text-sm line-clamp-2"},ae={class:"mt-2 flex flex-wrap gap-1"},oe={key:0,class:"text-xs text-gray-500"},ie={class:"text-xs text-gray-500 mt-1"},ne={key:0,class:"text-center py-8 text-gray-500"},re={key:0,class:"mt-8"},le={class:"medical-card"},de={class:"space-y-4"},ce=E({__name:"Dashboard",setup(I){const l=Z(),b=it(),C=nt(),S=rt(),R=lt(),d=at(),c=F(!1),D=F(new Date),T=Y(),O=[{name:"New Dataset",route:"/datasets/create",icon:"plus",description:"Upload medical literature dataset"},{name:"Train Model",route:"/models/create",icon:"academic-cap",description:"Create and train AI model"},{name:"Classify",route:"/classification",icon:"document-text",description:"Classify medical articles"}],z=g(()=>V(D.value,{addSuffix:!0})),J=g(()=>b.datasets?b.datasets.slice(0,5):[]),$=g(()=>C.models?C.models.slice(0,5):[]),A=g(()=>S.predictions?S.predictions.slice(0,5):[]),P=g(()=>R.activeJobs||[]),U=g(()=>[{label:"Total Datasets",value:d.stats.total_datasets,icon:"database",color:"primary",trend:d.stats.total_datasets>0?"up":null},{label:"Trained Models",value:d.stats.total_models,icon:"cpu",color:"medical",trend:d.stats.total_models>0?"up":null},{label:"Classifications",value:d.stats.total_predictions,icon:"brain",color:"success",trend:d.stats.total_predictions>0?"up":null},{label:"Active Training",value:d.stats.active_training_jobs,icon:"clock",color:d.stats.active_training_jobs>0?"warning":"info",trend:d.stats.active_training_jobs>0?"up":null}]),q=g(()=>({labels:["Validated","Pending","In Review"],datasets:[{data:[d.stats.validated_datasets||0,(d.stats.total_datasets||0)-(d.stats.validated_datasets||0),0],backgroundColor:["#10B981","#F59E0B","#6B7280"]}]})),G=g(()=>{const n=C.models?.filter(u=>u.status==="trained"&&u.is_trained)||[];if(n.length===0)return{labels:["Accuracy","F1 Score","Precision","Recall"],datasets:[{label:"No trained models",data:[0,0,0,0],backgroundColor:"rgba(156, 163, 175, 0.2)",borderColor:"rgba(156, 163, 175, 1)",pointBackgroundColor:"rgba(156, 163, 175, 1)"}]};const s=n.reduce((u,_)=>u+(_.accuracy||0),0)/n.length*100,m=n.reduce((u,_)=>u+(_.f1_score||0),0)/n.length*100,e=n.reduce((u,_)=>u+(_.precision||0),0)/n.length*100,h=n.reduce((u,_)=>u+(_.recall||0),0)/n.length*100;return{labels:["Accuracy","F1 Score","Precision","Recall"],datasets:[{label:`Average Performance (${n.length} models)`,data:[s,m,e,h],backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 1)",pointBackgroundColor:"rgba(59, 130, 246, 1)"}]}}),j={dataset:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},performance:{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20}}},plugins:{legend:{position:"bottom"}}}},B=async()=>{c.value=!0;try{await Promise.all([b.fetchDatasets(),C.fetchModels(),S.fetchPredictions(),R.fetchActiveJobs(),d.fetchStats()]),D.value=new Date}catch(n){console.error("Failed to refresh data:",n)}finally{c.value=!1}},H=n=>V(new Date(n),{addSuffix:!0}),W=n=>({bert:"BERT",biobert:"BioBERT",clinicalbert:"ClinicalBERT",scibert:"SciBERT",pubmedbert:"PubMedBERT","gemma2-2b":"Gemma 2B",traditional:"Traditional ML",hybrid:"Hybrid",custom:"Custom"})[n]||n.toUpperCase();return K(async()=>{await B(),setInterval(()=>{T.value&&B()},3e4)}),(n,s)=>{const m=Q("RouterLink");return a(),i("div",bt,[t("div",xt,[t("div",yt,[s[1]||(s[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"}," Welcome to MedLitBot "),t("p",{class:"mt-2 text-gray-600"}," AI-powered medical literature classification dashboard ")],-1)),t("div",ht,[t("div",wt,[(a(),i(f,null,v(O,e=>t("button",{key:e.name,onClick:h=>M(l).push(e.route),class:"btn-primary flex items-center space-x-2",title:e.description},[r(w,{name:e.icon,class:"w-4 h-4"},null,8,["name"]),t("span",Ct,o(e.name),1)],8,kt)),64))]),t("button",{onClick:B,disabled:c.value,class:"btn-secondary flex items-center space-x-2"},[r(w,{name:"refresh",class:k(["w-4 h-4",{"animate-spin":c.value}])},null,8,["class"]),s[0]||(s[0]=t("span",{class:"hidden sm:inline"},"Refresh",-1))],8,St)])]),t("div",Tt,[t("div",Bt,[t("div",{class:k(["w-3 h-3 rounded-full",M(T)?"bg-green-400":"bg-red-400"])},null,2),t("span",Mt,o(M(T)?"Online":"Offline"),1)]),s[2]||(s[2]=t("div",{class:"flex items-center space-x-2"},[t("div",{class:"w-3 h-3 rounded-full bg-green-400"}),t("span",{class:"text-sm text-gray-600"}," API Connected ")],-1)),t("div",Rt," Last updated: "+o(z.value),1)])]),t("div",Dt,[(a(!0),i(f,null,v(U.value,e=>(a(),L(tt,{key:e.label,label:e.label,value:e.value,icon:e.icon,color:e.color,trend:e.trend,loading:c.value},null,8,["label","value","icon","color","trend","loading"]))),128))]),t("div",Jt,[r(N,{title:"Dataset Overview",loading:c.value},{default:p(()=>[r(et,{data:q.value,options:j.dataset,height:300},null,8,["data","options"])]),_:1},8,["loading"]),r(N,{title:"Model Performance",loading:c.value},{default:p(()=>[r(st,{data:G.value,options:j.performance,height:300},null,8,["data","options"])]),_:1},8,["loading"])]),t("div",$t,[t("div",At,[t("div",Pt,[t("div",jt,[s[4]||(s[4]=t("h3",{class:"text-lg font-semibold text-gray-900"}," Recent Datasets ",-1)),r(m,{to:"/datasets",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:p(()=>[...s[3]||(s[3]=[x(" View all → ",-1)])]),_:1})])]),t("div",Ft,[(a(!0),i(f,null,v(J.value,e=>(a(),i("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",Lt,[t("h4",Nt,o(e.name),1),t("p",Vt,o(e.total_samples)+" samples ",1)]),t("div",Et,[t("span",{class:k(["status-badge",e.is_validated?"status-badge-success":"status-badge-warning"])},o(e.is_validated?"Validated":"Pending"),3)])]))),128)),J.value.length===0&&!c.value?(a(),i("div",It,[r(w,{name:"database",class:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s[6]||(s[6]=t("p",null,"No datasets yet",-1)),r(m,{to:"/datasets/create",class:"text-primary-600 hover:text-primary-700 text-sm"},{default:p(()=>[...s[5]||(s[5]=[x(" Create your first dataset → ",-1)])]),_:1})])):y("",!0)])]),t("div",Ot,[t("div",zt,[t("div",Ut,[s[8]||(s[8]=t("h3",{class:"text-lg font-semibold text-gray-900"}," ML Models ",-1)),r(m,{to:"/models",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:p(()=>[...s[7]||(s[7]=[x(" View all → ",-1)])]),_:1})])]),t("div",qt,[(a(!0),i(f,null,v($.value,e=>(a(),i("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",Gt,[t("h4",Ht,o(e.name),1),t("p",Wt,o(W(e.model_type))+" "+o(e.f1_score?`• F1: ${(e.f1_score*100).toFixed(1)}%`:""),1)]),t("div",Xt,[t("span",{class:k(["status-badge",{"status-badge-success":e.status==="trained","status-badge-warning":e.status==="training","status-badge-error":e.status==="failed","status-badge-info":e.status==="created"}])},o(e.status),3)])]))),128)),$.value.length===0&&!c.value?(a(),i("div",Zt,[r(w,{name:"cpu",class:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s[10]||(s[10]=t("p",null,"No models yet",-1)),r(m,{to:"/models/create",class:"text-primary-600 hover:text-primary-700 text-sm"},{default:p(()=>[...s[9]||(s[9]=[x(" Create your first model → ",-1)])]),_:1})])):y("",!0)])]),t("div",Kt,[t("div",Qt,[t("div",Yt,[s[12]||(s[12]=t("h3",{class:"text-lg font-semibold text-gray-900"}," Recent Classifications ",-1)),r(m,{to:"/classification/history",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:p(()=>[...s[11]||(s[11]=[x(" View all → ",-1)])]),_:1})])]),t("div",te,[(a(!0),i(f,null,v(A.value,e=>(a(),i("div",{key:e.id,class:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg"},[t("div",ee,[t("h4",se,o(e.title),1),t("div",ae,[(a(!0),i(f,null,v(e.predicted_domains.slice(0,2),h=>(a(),i("span",{key:h,class:"domain-badge"},o(h),1))),128)),e.predicted_domains.length>2?(a(),i("span",oe," +"+o(e.predicted_domains.length-2)+" more ",1)):y("",!0)]),t("p",ie,o(H(e.created_at)),1)])]))),128)),A.value.length===0&&!c.value?(a(),i("div",ne,[r(w,{name:"brain",class:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s[14]||(s[14]=t("p",null,"No classifications yet",-1)),r(m,{to:"/classification",class:"text-primary-600 hover:text-primary-700 text-sm"},{default:p(()=>[...s[13]||(s[13]=[x(" Start classifying → ",-1)])]),_:1})])):y("",!0)])])]),P.value.length>0?(a(),i("div",re,[t("div",le,[s[15]||(s[15]=t("div",{class:"medical-card-header"},[t("h3",{class:"text-lg font-semibold text-gray-900"}," Active Training Jobs ")],-1)),t("div",de,[(a(!0),i(f,null,v(P.value,e=>(a(),L(vt,{key:e.id,"training-job":e},null,8,["training-job"]))),128))])])])):y("",!0)])}}}),ke=ot(ce,[["__scopeId","data-v-7f2ecfd4"]]);export{ke as default};
//# sourceMappingURL=Dashboard-BfLiHrSt.js.map
