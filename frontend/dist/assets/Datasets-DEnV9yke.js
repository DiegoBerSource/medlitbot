import{k as A,X as E,r as h,e as y,a as G,Q as q,I,l as n,J as l,A as e,z as v,L as o,y as w,B as c,C as i,F as L,G as F,m as J,q as O}from"./vendor-CqXe5Vco.js";import{b as Q,_ as d,a as X}from"./index-D07s5EKd.js";import{u as Y}from"./datasets-Bt4WZcQM.js";import"./utils-DWA4hw-v.js";import"./charts-DqDWejEF.js";const H={class:"p-6"},K={class:"mb-6 flex justify-between items-center"},W={key:0,class:"bg-white rounded-lg shadow p-8"},Z={class:"flex items-center justify-center"},ee={key:1,class:"bg-white rounded-lg shadow p-6"},te={class:"text-center py-8"},se={class:"text-gray-500 mb-4"},ae={key:2,class:"bg-white rounded-lg shadow p-6"},le={class:"text-center py-12"},oe={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ne={class:"p-6 border-b border-gray-200"},ie={class:"flex items-start justify-between"},de={class:"flex-1"},re={class:"text-lg font-semibold text-gray-900 mb-1 truncate"},ce={class:"text-sm text-gray-600 mb-3 line-clamp-2"},ue={class:"flex items-center mb-2"},me={class:"ml-2"},xe=["onClick"],ge={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-10"},ve={class:"py-1"},ye=["onClick","disabled"],be=["onClick"],pe={class:"p-6"},fe={class:"grid grid-cols-2 gap-4 mb-4"},_e={class:"text-center"},he={class:"text-2xl font-bold text-blue-600"},we={class:"text-center"},ke={class:"text-2xl font-bold text-purple-600"},De={key:0,class:"mb-4"},Ce={class:"flex flex-wrap gap-1"},$e={key:0,class:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-600"},je={class:"text-xs text-gray-500 space-y-1"},Le={class:"flex justify-between"},Fe={class:"flex justify-between"},Se={class:"flex justify-between"},Me={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between"},Ve=["onClick","disabled"],ze={key:4,class:"mt-8 flex justify-center"},Ne={class:"flex items-center space-x-2"},Be=["disabled"],Pe={class:"px-3 py-2 text-sm font-medium text-gray-700"},Ue=["disabled"],Te={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Re={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},Ae={class:"text-gray-600 mb-6"},Ee={class:"flex justify-end space-x-3"},Ge=["disabled"],qe=A({__name:"Datasets",setup(Ie){const S=E(),b=Q(),m=Y(),u=h(null),x=h(1),k=h(20),r=h({show:!1,dataset:null,loading:!1}),D=y(()=>m.datasets||[]),M=y(()=>m.isLoading),C=y(()=>m.error),V=y(()=>m.totalDatasets),p=y(()=>Math.ceil(V.value/k.value)),f=async(a=1)=>{x.value=a,await m.fetchDatasets(a,k.value)},$=a=>{a>=1&&a<=p.value&&f(a)},z=a=>{u.value=u.value===a?null:a},N=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=a=>a.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),P=async a=>{try{await m.validateDataset(a),b.success("Dataset validation started"),u.value=null}catch{b.error("Failed to start dataset validation")}},U=a=>{r.value={show:!0,dataset:a,loading:!1},u.value=null},T=async()=>{if(r.value.dataset){r.value.loading=!0;try{await m.deleteDataset(r.value.dataset.id),b.success("Dataset deleted successfully"),r.value.show=!1,await f(x.value)}catch{b.error("Failed to delete dataset")}finally{r.value.loading=!1}}},R=a=>{S.push(`/models/create?dataset=${a.id}`)},j=a=>{u.value&&!a.target.closest(".relative")&&(u.value=null)};return G(async()=>{await f(),document.addEventListener("click",j)}),q(()=>{document.removeEventListener("click",j)}),(a,t)=>{const _=I("RouterLink");return l(),n("div",H,[e("div",K,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Datasets"),e("p",{class:"text-gray-600"},"Manage your medical literature datasets")],-1)),o(_,{to:"/datasets/create",class:"btn-primary"},{default:w(()=>[o(d,{name:"plus",class:"w-4 h-4 mr-2"}),t[5]||(t[5]=c(" Create Dataset ",-1))]),_:1})]),M.value?(l(),n("div",W,[e("div",Z,[o(d,{name:"clock",class:"w-6 h-6 animate-spin text-blue-600 mr-3"}),t[7]||(t[7]=e("span",{class:"text-gray-600"},"Loading datasets...",-1))])])):C.value?(l(),n("div",ee,[e("div",te,[o(d,{name:"warning",class:"w-16 h-16 mx-auto mb-4 text-red-400"}),t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Failed to Load Datasets",-1)),e("p",se,i(C.value),1),e("button",{onClick:t[0]||(t[0]=()=>f()),class:"btn-primary"},[o(d,{name:"clock",class:"w-4 h-4 mr-2"}),t[8]||(t[8]=c(" Retry ",-1))])])])):D.value.length===0?(l(),n("div",ae,[e("div",le,[o(d,{name:"database",class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Datasets Found",-1)),t[12]||(t[12]=e("p",{class:"text-gray-500 mb-4"},"Get started by creating your first medical literature dataset",-1)),o(_,{to:"/datasets/create",class:"btn-primary"},{default:w(()=>[o(d,{name:"plus",class:"w-4 h-4 mr-2"}),t[10]||(t[10]=c(" Create Your First Dataset ",-1))]),_:1})])])):(l(),n("div",oe,[(l(!0),n(L,null,F(D.value,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-lg shadow hover:shadow-md transition-shadow border border-gray-200"},[e("div",ne,[e("div",ie,[e("div",de,[e("h3",re,i(s.name),1),e("p",ce,i(s.description||"No description provided"),1),e("div",ue,[e("span",{class:J([{"bg-green-100 text-green-800":s.is_validated,"bg-yellow-100 text-yellow-800":!s.is_validated},"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[o(d,{name:s.is_validated?"success":"warning",class:"w-3 h-3 mr-1"},null,8,["name"]),c(" "+i(s.is_validated?"Validated":"Pending"),1)],2)])]),e("div",me,[e("button",{onClick:g=>z(s.id),class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},[o(d,{name:"cog",class:"w-5 h-5"})],8,xe),u.value===s.id?(l(),n("div",ge,[e("div",ve,[o(_,{to:`/datasets/${s.id}`,class:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:t[1]||(t[1]=g=>u.value=null)},{default:w(()=>[o(d,{name:"view",class:"w-4 h-4 mr-3"}),t[13]||(t[13]=c(" View Details ",-1))]),_:2},1032,["to"]),e("button",{onClick:g=>P(s.id),disabled:s.is_validated,class:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50"},[o(d,{name:"success",class:"w-4 h-4 mr-3"}),t[14]||(t[14]=c(" Validate Dataset ",-1))],8,ye),e("button",{onClick:g=>U(s),class:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50"},[o(d,{name:"delete",class:"w-4 h-4 mr-3"}),t[15]||(t[15]=c(" Delete Dataset ",-1))],8,be)])])):v("",!0)])])]),e("div",pe,[e("div",fe,[e("div",_e,[e("div",he,i(s.total_samples.toLocaleString()),1),t[16]||(t[16]=e("div",{class:"text-xs text-gray-500"},"Samples",-1))]),e("div",we,[e("div",ke,i(s.medical_domains?.length||0),1),t[17]||(t[17]=e("div",{class:"text-xs text-gray-500"},"Domains",-1))])]),s.medical_domains&&s.medical_domains.length>0?(l(),n("div",De,[t[18]||(t[18]=e("div",{class:"text-xs text-gray-500 mb-2"},"Medical Domains:",-1)),e("div",Ce,[(l(!0),n(L,null,F(s.medical_domains.slice(0,3),g=>(l(),n("span",{key:g,class:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800"},i(B(g)),1))),128)),s.medical_domains.length>3?(l(),n("span",$e," +"+i(s.medical_domains.length-3)+" more ",1)):v("",!0)])])):v("",!0),e("div",je,[e("div",Le,[t[19]||(t[19]=e("span",null,"Created:",-1)),e("span",null,i(N(s.uploaded_at)),1)]),e("div",Fe,[t[20]||(t[20]=e("span",null,"Size:",-1)),e("span",null,i(s.file_size_mb)+" MB",1)]),e("div",Se,[t[21]||(t[21]=e("span",null,"Format:",-1)),e("span",null,i(s.file_extension?.toUpperCase()||"Unknown"),1)])])]),e("div",Me,[o(_,{to:`/datasets/${s.id}`,class:"text-sm font-medium text-blue-600 hover:text-blue-700"},{default:w(()=>[...t[22]||(t[22]=[c(" View Details ",-1)])]),_:2},1032,["to"]),e("button",{onClick:g=>R(s),disabled:!s.is_validated,class:"text-sm font-medium text-green-600 hover:text-green-700 disabled:opacity-50"}," Use for Training ",8,Ve)])]))),128))])),p.value>1?(l(),n("div",ze,[e("nav",Ne,[e("button",{onClick:t[2]||(t[2]=s=>$(x.value-1)),disabled:x.value===1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,Be),e("span",Pe," Page "+i(x.value)+" of "+i(p.value),1),e("button",{onClick:t[3]||(t[3]=s=>$(x.value+1)),disabled:x.value===p.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50"}," Next ",8,Ue)])])):v("",!0),r.value.show?(l(),n("div",Te,[e("div",Re,[t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Delete Dataset",-1)),e("p",Ae,' Are you sure you want to delete "'+i(r.value.dataset?.name)+'"? This action cannot be undone and will remove all associated data. ',1),e("div",Ee,[e("button",{onClick:t[4]||(t[4]=s=>r.value.show=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Cancel "),e("button",{onClick:T,disabled:r.value.loading,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:opacity-50"},[r.value.loading?(l(),O(d,{key:0,name:"clock",class:"w-4 h-4 mr-2 animate-spin"})):v("",!0),t[23]||(t[23]=c(" Delete Dataset ",-1))],8,Ge)])])])):v("",!0)])}}}),He=X(qe,[["__scopeId","data-v-2c02ce3f"]]);export{He as default};
//# sourceMappingURL=Datasets-DEnV9yke.js.map
