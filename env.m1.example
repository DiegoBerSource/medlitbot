# M1 Mac Optimized Environment Configuration
# Use this environment file for Apple Silicon Macs

# Django Configuration
SECRET_KEY=your-secret-key-here
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# Use SQLite for development on M1 (more stable than PostgreSQL)
USE_SQLITE=True

# Redis Configuration (use local Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Celery Configuration - M1 Optimized
CELERY_TASK_ALWAYS_EAGER=False
CELERY_POOL=solo
CELERY_CONCURRENCY=1
CELERY_OPTIMIZATION=fair

# M1 PyTorch Settings
PYTORCH_ENABLE_MPS_FALLBACK=0
PYTORCH_MPS_HIGH_WATERMARK_RATIO=0.0
OMP_NUM_THREADS=1
MKL_NUM_THREADS=1
NUMEXPR_NUM_THREADS=1
VECLIB_MAXIMUM_THREADS=1
TOKENIZERS_PARALLELISM=false
PYTORCH_NO_CUDA_MEMORY_CACHING=1
CUDA_VISIBLE_DEVICES=""

# ML Model Configuration - M1 Optimized
DEFAULT_PREDICTION_THRESHOLD=0.5
MAX_SEQUENCE_LENGTH=256
BATCH_SIZE=4
DEFAULT_EPOCHS=2

# HuggingFace Cache (M1 optimized paths)
HF_DATASETS_CACHE=~/Library/Caches/huggingface/datasets
TRANSFORMERS_CACHE=~/Library/Caches/huggingface/transformers

# Training Optimization
TRAINING_USE_CPU=True
TRAINING_NO_MULTIPROCESSING=True
TRAINING_DISABLE_FP16=True
TRAINING_SMALL_BATCH=True

# File Upload Limits (reduced for M1)
FILE_UPLOAD_MAX_MEMORY_SIZE=52428800  # 50MB
DATA_UPLOAD_MAX_MEMORY_SIZE=52428800  # 50MB

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Hugging Face Authentication (required for gated models like Gemma)
HF_TOKEN=your-huggingface-token-here
